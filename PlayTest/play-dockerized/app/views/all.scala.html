@*
* This template takes a single argument, a String containing a
* message to display.
*@
@(pins: List[Pin])

@*
* Call the `main` template with two arguments. The first
* argument is a `String` with the title of the page, the second
* argument is an `Html` object containing the body of the page.
*@
@main("Welcome to Play") {

    <h1>Board</h1>
    <div id="wrapper">
        <div id="response"></div>
        <div class="card-columns">
        @for(pin <- pins){
            @card1(pin)
        }
        </div>
    </div>

    <script src="@routes.Assets.versioned("javascripts/jquery.simple.websocket.js")" type="text/javascript"></script>
    <script type="text/javascript">
            function webSocketImage(){

                var webSocket = $.simpleWebSocket({url: " ws://" + window.location.host + "/ws/getNewImages"});

                // reconnected listening
                webSocket.listen(function (message) {
//                    console.log(" Received " + message);

//                    var prettyJson = JSON.stringify(JSON.parse(message), null, 2);

                    // Update textarea
//                    $("#response").val(prettyJson + "\r\n" + $("#response").val())
                    $("#response").html(message);

                });
            }

            $( document ).ready(function() {
                webSocketImage();
            });

    </script>
}


